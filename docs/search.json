[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About this Project",
    "section": "",
    "text": "LANDFIRE (Landscape Fire and Resource Management Planning Tools) is a shared program between the U.S. Department of Agriculture Forest Service Fire and Aviation branch and the U.S. Department of the Interior. LANDFIRE provides 25+ national landscape-scale geo-spatial products, 950 vegetation models, and a suite of tools that support all-lands planning, management, and operations. Included in the product suite are current and historic conditions including ecosystem dynamic models that can be used for conservation, fire planning, and landscape management decisions.\nThe Nature Conservancy (TNC) is a Major Partner in the LANDFIRE Program supported by a cooperative agreement through USDA Forest Service. TNC’s LANDFIRE Team works closely with the LANDFIRE Business Leads, program staff, and other partners to provide support to LANDFIRE and the user community by:\n\nHelping users understand the strengths, weaknesses, and appropriate uses of LANDFIRE products.\nLocating, obtaining, and using geospatial data, tools, and models for fire and natural resource management, planning, and implementation.\nIdentifying and comparing management priorities, evaluating threats to ecosystems, and exploring outcomes under alternative management scenarios.\n\n\nTNC’s LANDFIRE Team is advancing conservation outcomes through collaborative ecosystem science by supporting LANDFIRE users as they locate, obtain and apply the diverse suite of LANDFIRE products and data.\n\nCreated by TNC Ecologist, Randy Swaty, this preliminary landscape assessment leverages LANDFIRE’s unique geospatial products to advance beneficial outcomes for the wildland fire and natural resource communities. The central data in each project are created and managed by the cooperative inter-agency/inter-organizational LANDFIRE program.\nThese charts, maps, and graphs are based on current LANDFIRE products, and provide a starting point for further analysis. All maps, input datasets and further assistance can be obtained by contacting the author, Randy Swaty.\nSubstantial code contributions for GIS data processing by Myles Walimaa."
  },
  {
    "objectID": "about.html#landfire-the-nature-conservancy",
    "href": "about.html#landfire-the-nature-conservancy",
    "title": "About this Project",
    "section": "",
    "text": "LANDFIRE (Landscape Fire and Resource Management Planning Tools) is a shared program between the U.S. Department of Agriculture Forest Service Fire and Aviation branch and the U.S. Department of the Interior. LANDFIRE provides 25+ national landscape-scale geo-spatial products, 950 vegetation models, and a suite of tools that support all-lands planning, management, and operations. Included in the product suite are current and historic conditions including ecosystem dynamic models that can be used for conservation, fire planning, and landscape management decisions.\nThe Nature Conservancy (TNC) is a Major Partner in the LANDFIRE Program supported by a cooperative agreement through USDA Forest Service. TNC’s LANDFIRE Team works closely with the LANDFIRE Business Leads, program staff, and other partners to provide support to LANDFIRE and the user community by:\n\nHelping users understand the strengths, weaknesses, and appropriate uses of LANDFIRE products.\nLocating, obtaining, and using geospatial data, tools, and models for fire and natural resource management, planning, and implementation.\nIdentifying and comparing management priorities, evaluating threats to ecosystems, and exploring outcomes under alternative management scenarios.\n\n\nTNC’s LANDFIRE Team is advancing conservation outcomes through collaborative ecosystem science by supporting LANDFIRE users as they locate, obtain and apply the diverse suite of LANDFIRE products and data.\n\nCreated by TNC Ecologist, Randy Swaty, this preliminary landscape assessment leverages LANDFIRE’s unique geospatial products to advance beneficial outcomes for the wildland fire and natural resource communities. The central data in each project are created and managed by the cooperative inter-agency/inter-organizational LANDFIRE program.\nThese charts, maps, and graphs are based on current LANDFIRE products, and provide a starting point for further analysis. All maps, input datasets and further assistance can be obtained by contacting the author, Randy Swaty.\nSubstantial code contributions for GIS data processing by Myles Walimaa."
  },
  {
    "objectID": "about.html#biophysical-settings-products",
    "href": "about.html#biophysical-settings-products",
    "title": "About this Project",
    "section": "Biophysical Settings Products",
    "text": "Biophysical Settings Products\nA Biophysical Setting (BpS) is a concept that represents the vegetation that may have been dominant on the landscape prior to European colonization of North America and is based on both the current biophysical environment and an approximation of the historical disturbance regime.\n\nLANDFIRE collaborated with experts around the country to create a description and model for every BpS in the US. Find BpS descriptions for your area here.\nCheck out the vegetation modeling website to learn how to integrate BpS into your work.\nRead Blankenship et al. (2021) to learn how the models and descriptions were developed."
  },
  {
    "objectID": "about.html#vegetation-products",
    "href": "about.html#vegetation-products",
    "title": "About this Project",
    "section": "Vegetation Products",
    "text": "Vegetation Products\nLANDFIRE (LF) existing vegetation layers describe the following elements: Existing Vegetation Type (EVT), Existing Vegetation Canopy Cover (EVC), and Existing Vegetation Height (EVH). These layers are created using predictive landscape models based on extensive field-referenced data, satellite imagery and biophysical gradient layers using classification and regression trees.\n\nResources\n\nExisting Vegetation Cover\nExisting Vegetation Height\nExisting Vegetation Type"
  },
  {
    "objectID": "about.html#still-have-questions-landfire-is-here-to-help.",
    "href": "about.html#still-have-questions-landfire-is-here-to-help.",
    "title": "About this Project",
    "section": "Still have questions? LANDFIRE is here to help.",
    "text": "Still have questions? LANDFIRE is here to help.\nAsk the LANDFIRE Helpdesk\nSearch the LANDFIRE Helpdesk Dashboard (see what others are asking and find solutions to common problems)\nSearch (& subscribe to) the LANDFIRE YouTube Channel (see tutorials, Office Hours, quick demonstrations)"
  },
  {
    "objectID": "make_charts.html",
    "href": "make_charts.html",
    "title": "Make simple charts with LANDFIRE data",
    "section": "",
    "text": "Summarizing data in charts is a quick way to convey patterns and, in the case below, demonstrate which LANDFIRE Biophysical Settings were mapped as most dominant on our landscape"
  },
  {
    "objectID": "make_charts.html#skills-learned",
    "href": "make_charts.html#skills-learned",
    "title": "Make simple charts with LANDFIRE data",
    "section": "",
    "text": "Summarizing data in charts is a quick way to convey patterns and, in the case below, demonstrate which LANDFIRE Biophysical Settings were mapped as most dominant on our landscape"
  },
  {
    "objectID": "make_charts.html#set-up",
    "href": "make_charts.html#set-up",
    "title": "Make simple charts with LANDFIRE data",
    "section": "Set up",
    "text": "Set up\nTo run the code below you will need to:\n\nWork through the preceding pages, Download data and Prepare rasters, or otherwise make sure you have a datasheet with BpS names and Relative Percentages at the least.\n\n\n\nCode to load packages and inputs\n\nlibrary(tidyverse)"
  },
  {
    "objectID": "download.html",
    "href": "download.html",
    "title": "Download LANDFIRE data into R",
    "section": "",
    "text": "First step in using LANDFIRE data is getting the data. There are many ways to get the data-here we will use the rlandfire package by Mark Buckner to download LANDFIRE data then prep it for use.\nIn this demonstration we download LANDFIRE Biophysical Settings (BpS) and Existing Vegetation Type (EVT) data, extract and rename the files."
  },
  {
    "objectID": "download.html#skills-learned",
    "href": "download.html#skills-learned",
    "title": "Download LANDFIRE data into R",
    "section": "",
    "text": "First step in using LANDFIRE data is getting the data. There are many ways to get the data-here we will use the rlandfire package by Mark Buckner to download LANDFIRE data then prep it for use.\nIn this demonstration we download LANDFIRE Biophysical Settings (BpS) and Existing Vegetation Type (EVT) data, extract and rename the files."
  },
  {
    "objectID": "download.html#set-up",
    "href": "download.html#set-up",
    "title": "Download LANDFIRE data into R",
    "section": "Set up",
    "text": "Set up\nTo run the code below you will need to:\n\nSet up a new R-Studio project named something such as “r_landfire_demos”\nCreate two directories, “inputs” and “outputs”\nDownload “bps_demo.zip” (clicking will initiate the download that will likely land in your “C:” directory) which contains:\n\nLANDFIRE Map Zone 35 shapefile\nBpS attributes file as a .csv\n\nExtract the “bps_demo.zip” files into the “inputs” sub-directory of your r-studio project.\nCreate and save a new r-script with a name such as “bps_demo_code”.\n\nOnce this set up is complete, you should be able to copy/paste the code below into the r script you created above.\n\nCode to load packages and inputs\n\n# install packages if needed\n  # install.packages(\"foreign\")\n  # install.packages(\"rlandfire\")\n  # install.packages(\"sf\")\n  # install.packages(\"terra\")\n  # install.packages(\"tidyverse\")\n\n# load packages\n\nlibrary(foreign)\nlibrary(rlandfire)\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyverse)\n\n\n# read in Area of Interest (aoi) shapefile, plot to check\n\nshp &lt;- st_read(\"inputs/map_zone_35.shp\", quiet = TRUE) %&gt;% \n  st_transform(crs = 5070) %&gt;%\n  st_union() %&gt;%\n  st_sf()\n\n\n# read in .csv of CONUS-wide attributes\n\nbps_conus_atts &lt;- read_csv(\"inputs/LF20_BPS_220.csv\")\n\n# look at the first few rows of the CONUS-wide attribute table\nhead(bps_conus_atts)\n\n# plot the shape for fun\nplot(shp)"
  },
  {
    "objectID": "download.html#download-manage-and-load-data",
    "href": "download.html#download-manage-and-load-data",
    "title": "Download LANDFIRE data into R",
    "section": "Download manage and load data",
    "text": "Download manage and load data\nTo obtain and manage LANDFIRE data we need to:\n\nDefine the Area of Interest (AOI): The code gets the area of interest from a shapefile.\nSet Parameters for the API Call: It specifies the product code, coordinate system (EPSG:4326), resolution (30 meters), and your email address for the API.\nCreate a Temporary File: A temporary file is created to save the downloaded data.\nCall the LANDFIRE API: The API is called with the specified parameters, and the data is saved to the temporary file.\nMake sure the downloaded data lands in a place where you can find and use it easily\n\nDefine the Destination Path: The destination path for the downloaded file is set.\nMove and Rename the File: The temporary file is moved to the destination path and renamed.\nCreate a Temporary Directory for Unzipping: A temporary directory is created to unzip the downloaded file.\nUnzip the File: The file is unzipped into the temporary directory.\nGet the List of Unzipped Files: A list of unzipped files is obtained.\nRename Each Unzipped File: Each unzipped file is renamed to “landfire_data” followed by its original extension.\nClean Up the Temporary Directory: The temporary directory and its contents are deleted.\n\n\nThe code below does that in roughly 2 minutes with an internet download speed of ~450mbs. Your times may vary."
  },
  {
    "objectID": "download.html#next-steps",
    "href": "download.html#next-steps",
    "title": "Download LANDFIRE data into R",
    "section": "Next steps",
    "text": "Next steps\nYou should see a set of files with “landfire” in the name. Next go to the Prepare rasters page to learn how to load them into R, clip/mask and view them."
  },
  {
    "objectID": "download.html#more-resources",
    "href": "download.html#more-resources",
    "title": "Download LANDFIRE data into R",
    "section": "More resources",
    "text": "More resources\n\nAdd Mark’s site and note he has tutorial\nR python (not tested)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "",
    "text": "Do you work with LANDFIRE data and want a faster way to dig into ecological patterns across your landscape? You’re in the right place.\nThis site features quick R code demonstrations to help you get started (or go deeper) with LANDFIRE data. We recognize the power of well-written code and encourage the LANDFIRE community to build on this foundation of work. These r code examples are designed to be practical, repeatable, and flexible to fit your needs. We hope the coding tools provided can help you automate your work, leverage LANDFIRE, and get solution-oriented support.\nWe want to hear from you. Do you have feedback, ideas, or a cool way you’re using LANDFIRE data with R? -&gt; Send them our way. Let’s build a community of practice together."
  },
  {
    "objectID": "index.html#why-this-site",
    "href": "index.html#why-this-site",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "",
    "text": "Do you work with LANDFIRE data and want a faster way to dig into ecological patterns across your landscape? You’re in the right place.\nThis site features quick R code demonstrations to help you get started (or go deeper) with LANDFIRE data. We recognize the power of well-written code and encourage the LANDFIRE community to build on this foundation of work. These r code examples are designed to be practical, repeatable, and flexible to fit your needs. We hope the coding tools provided can help you automate your work, leverage LANDFIRE, and get solution-oriented support.\nWe want to hear from you. Do you have feedback, ideas, or a cool way you’re using LANDFIRE data with R? -&gt; Send them our way. Let’s build a community of practice together."
  },
  {
    "objectID": "index.html#overview",
    "href": "index.html#overview",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "🔍 Overview",
    "text": "🔍 Overview\nStep 1: LANDFIRE Data – Choose the LANDFIRE Product for your analysis. (Need help deciding? Check our cheatsheet here)\nStep 2: R Code Demos – Use the sample R code on this site to explore your area of interest.\nStep 3: Adjust LANDFIRE to match local conditions. (Not sure how to do that? Try our tutorial)\nStep 4: Insights & Innovations – Build your own tools, share your work, connect with us."
  },
  {
    "objectID": "index.html#making-connections",
    "href": "index.html#making-connections",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "🔍 Making Connections",
    "text": "🔍 Making Connections"
  },
  {
    "objectID": "index.html#working-example",
    "href": "index.html#working-example",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "Working Example",
    "text": "Working Example"
  },
  {
    "objectID": "index.html#use-this-code",
    "href": "index.html#use-this-code",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "🔧 Use this Code",
    "text": "🔧 Use this Code\nUsing R and LANDFIRE products to explore trends and automate analyses can improve outcomes. Based on current LANDFIRE Products, the example code and visualizations will all be based on Map Zone 35, located in Central Texas.\nContained in Map Zone 35 are multiple ecosystems that provide a colorful sandbox to explore these coding demonstrations."
  },
  {
    "objectID": "index.html#map-zone-35",
    "href": "index.html#map-zone-35",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "🗺 Map Zone 35",
    "text": "🗺 Map Zone 35"
  },
  {
    "objectID": "index.html#getting-started",
    "href": "index.html#getting-started",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "Getting Started",
    "text": "Getting Started\n\nCheck your R, R-Studio and package versions. We recommend running the most current version of R or R-Studio.\nCheck file paths - is your your R-Studio project correctly set up?\nLet us know if you run into code bugs landfire@tnc.org"
  },
  {
    "objectID": "index.html#disclaimer",
    "href": "index.html#disclaimer",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "Disclaimer",
    "text": "Disclaimer\nThe code provided here is offered as-is, without warranty or guarantee of accuracy, functionality, or fitness for a particular purpose. Like any open-source code, it may not perform identically across all systems, versions of R, RStudio, or associated packages. This content is intended for educational and illustrative purposes only and should not be considered a comprehensive guide to R programming. Users are responsible for validating and adapting the code to suit their specific needs and environments. We cannot assume responsibility for any issues, errors, or outcomes resulting from its use."
  },
  {
    "objectID": "index.html#up-next",
    "href": "index.html#up-next",
    "title": "LANDFIRE, Automation, & Coding: We Provide the Code to Kickstart Your Analysis",
    "section": "Up Next",
    "text": "Up Next\n\ninsert"
  },
  {
    "objectID": "prep_rasters.html",
    "href": "prep_rasters.html",
    "title": "Clip and prep LANDFIRE rasters",
    "section": "",
    "text": "Once we have LANDFIRE data, we often want to clip it to a specific landscape, which in this demo is LANDFIRE Map Zone 35.\nIn this demonstration we crop, mask and build attribute table for the area"
  },
  {
    "objectID": "prep_rasters.html#skills-learned",
    "href": "prep_rasters.html#skills-learned",
    "title": "Clip and prep LANDFIRE rasters",
    "section": "",
    "text": "Once we have LANDFIRE data, we often want to clip it to a specific landscape, which in this demo is LANDFIRE Map Zone 35.\nIn this demonstration we crop, mask and build attribute table for the area"
  },
  {
    "objectID": "prep_rasters.html#set-up",
    "href": "prep_rasters.html#set-up",
    "title": "Clip and prep LANDFIRE rasters",
    "section": "Set up",
    "text": "Set up\nTo run the code below you will need to:\n\nFollow the set up instructions and run the code on the Download data page, or similar for your landscape and LANDFIRE datasets of interest.\nCreate a new script for the following code.\n\nOnce this set up is complete, you should be able to copy/paste the code below into the r script you created above.\n\nCode to load packages and inputs\n\n# install packages if needed\n  # install.packages(\"foreign\")\n  # install.packages(\"sf\")\n  # install.packages(\"terra\")\n  # install.packages(\"tidyverse\")\n\n# load packages\n\nlibrary(foreign)\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyverse)\n\n\n# read in Area of Interest (aoi) shapefile, plot to check\n\nshp &lt;- st_read(\"inputs/map_zone_35.shp\", quiet = TRUE) %&gt;% \n  st_transform(crs = 5070) %&gt;%\n  st_union() %&gt;%\n  st_sf()\n\n\n# read in .csv of CONUS-wide attributes\n\nbps_conus_atts &lt;- read_csv(\"inputs/LF20_BPS_220.csv\")\nevt_conus_atts &lt;- read_csv(\"inputs/LF23_EVT_240.csv\")\n\n# look at the first few rows of the CONUS-wide attribute tables\nhead(bps_conus_atts)\nhead(evt_conus_atts)\n\n# plot the shape for fun\nplot(shp)"
  },
  {
    "objectID": "prep_rasters.html#crop-mask-and-build-attribute-table-for-the-area",
    "href": "prep_rasters.html#crop-mask-and-build-attribute-table-for-the-area",
    "title": "Clip and prep LANDFIRE rasters",
    "section": "Crop, mask and build attribute table for the area",
    "text": "Crop, mask and build attribute table for the area\nNow that we have the BpS data for the extent of our area of interest, we need to crop/mask it to the exact area of interest, build the raster attribute table and do a few calculations:\n\nFirst, we load our stacked raster data from the file landfire_data.tif.\nNext, we crop and mask this raster using a shapefile to focus on our area of interest.\nWe then plot the cropped and masked raster to visualize our area of interest.\nWe set the levels of the raster to match our attribute data and specify the active category.\n\nExtracting and Processing Values: We extract values from the raster, remove any NA values, and convert the data into a dataframe. This dataframe is then processed to create a frequency table, which is further refined and joined with the raster categories.\nSaving the Results: Finally, we save the processed raster and the attributes dataframe to files for future use.\n\n## Split stacked rasters ----\n\n# read in stacked raster\nstacked_rasters &lt;- rast(\"inputs/landfire_data.tif\")\n\n# \"split\" downloaded raster into separate layers\nfor(lyr in names(stacked_rasters)) assign(lyr, stacked_rasters[[lyr]])\n\n\n# crop and mask the us_200bps raster using the shapefile\nbps_aoi &lt;- US_200BPS %&gt;%\n  crop(shp) %&gt;%\n  mask(shp)\n\n# set the levels of the raster to bps_conus_atts\nlevels(bps_aoi)[[1]] &lt;- bps_conus_atts\n# set the active category of the raster to \"value\"\nactiveCat(bps_aoi) &lt;- \"VALUE\"\n\n# extract values from the raster, remove na values, and convert to dataframe\nbps_aoi_atts &lt;- values(bps_aoi, dataframe = T, na.rm = T) %&gt;%\n  # create a frequency table of the values\n  table(dnn = \"VALUE\") %&gt;%\n  # convert the table to a dataframe\n  as.data.frame() %&gt;%\n  # convert all columns to character type\n  mutate_all(as.character) %&gt;%\n  # convert all columns to integer type\n  mutate_all(as.integer) %&gt;%\n  # join the dataframe with the raster categories\n  left_join(cats(bps_aoi)[[1]], by = \"VALUE\") %&gt;%\n  # filter out rows with a frequency of 0\n  filter(Freq != 0) %&gt;%\n  # calculate acres and relative percentage\n  mutate(ACRES = round((Freq * 900 / 4046.86), 0),\n         REL_PERCENT = round((Freq / sum(Freq)), 3) * 100) %&gt;%\n  # arrange the dataframe by relative percentage in descending order\n  arrange(desc(REL_PERCENT))\n\n# write the raster to a file with specified options\nwriteRaster(bps_aoi, \"outputs/bps_aoi.tif\",\n            gdal = c(\"COMPRESS=NONE\", \"TFW=YES\"),\n            datatype = \"INT2S\",\n            overwrite = T)\n\n# write the attributes dataframe to a dbf file\nwrite.dbf(bps_aoi_atts, \"outputs/bps_aoi.tif.vat.dbf\")\n\n# write the attributes dataframe to a csv file\nwrite.csv(bps_aoi_atts, \"outputs/bps_aoi_attributes.csv\")\n\n# plot the cropped and masked raster\n#plot(bps_aoi)\n\n# look at the first few rows of the aoi attributes\n#head(bps_aoi_atts)"
  },
  {
    "objectID": "prep_rasters.html#next-steps",
    "href": "prep_rasters.html#next-steps",
    "title": "Clip and prep LANDFIRE rasters",
    "section": "Next steps",
    "text": "Next steps\nAbove we only processed the BpS data. We have the EVT data and the process is similar. We suggest challenging yourself to process the EVT data next. The steps are very similar for these categorical LANDFIRE datasets.\nAdditionally, you can now open up the processed raster(s) in ArcGIS pro and/or QGIS to do further GIS. This process really shines when you do multiple LANDFIRE datasets at once and/or process data for multiple landscapes.\nWhile we are sure it is possible to make attractive, accessible maps with the processed LANDFIRE rasters in R, we typically move to a different GIS software for mapping, or summarize the data by polygons (e.g., watersheds or hexagons) in R. See"
  }
]